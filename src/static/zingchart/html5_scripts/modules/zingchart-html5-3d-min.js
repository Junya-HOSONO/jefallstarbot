/*
All of the code within the ZingChart software is developed and copyrighted by PINT, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from PINT. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 0.120731
*/
ZC.AK={UX:1,DZ:0,DY:0,FS:40};
ZC.DC={_get_rotation_angle_:function(b,a){if(a.A7%180==0)var c=new ZC.C0(b,-b.G/2,a.iY-b.E/4,0),f=new ZC.C0(b,b.G/2,a.iY-b.E/4,0);else{c=new ZC.C0(b,a.iX-b.G/4,-b.E/2,0);f=new ZC.C0(b,a.iX-b.G/4,b.E/2,0)}return ZC.UV(Math.atan((f.DD[1]-c.DD[1])/(f.DD[0]-c.DD[0])))-(a.A7%180==0?0:90)},DR:function(b,a,c,f,d,e,g,h,i){i=i||"z";b=new ZC.R0(b,a);switch(i){case "x":var j=new ZC.C0(a,c,d,g),k=new ZC.C0(a,f,d,g),l=new ZC.C0(a,f,e,h),m=new ZC.C0(a,c,e,h);break;case "y":j=new ZC.C0(a,c,d,g);k=new ZC.C0(a,c,
e,g);l=new ZC.C0(a,f,e,h);m=new ZC.C0(a,f,d,h);break;case "z":j=new ZC.C0(a,c,d,g);k=new ZC.C0(a,c,d,h);l=new ZC.C0(a,f,e,h);m=new ZC.C0(a,f,e,g)}b.add(j);b.add(k);b.add(l);b.add(m);return b},DV:function(b,a,c,f){if(typeof f==ZC._[33])f=0;var d=null,e=null;if(c instanceof Array)d=c;else{d=c.points;e=c.mathpoints}b=new ZC.R0(b,a);c=0;for(var g=d.length;c<g;c++)f?b.add(d[c],e?e[c]:null):b.add(new ZC.C0(a,d[c][0],d[c][1],d[c][2]),e?new ZC.C0(a,e[c][0],e[c][1],e[c][2]):null);return b}};
ZC.C0=ZC.BX.B6({$i:function(b,a,c,f){this.D=b;this.iX=a;this.iY=c;this.iZ=f;this.A1A=this.DX=this.E6=0;this.DD=[];var d=this.D.DM.angle;b=this.D.DM.zoom;if(this.D.DM.true3d){a={x:a,y:c,z:f};c={x:0,y:0,z:0};var e={x:this.D.DM[ZC._[29]],y:this.D.DM[ZC._[30]],z:this.D.DM[ZC._[31]]};f=ZC.CP(e.x);d=ZC.CP(e.y);var g=ZC.CP(e.z),h=ZC.D4(e.x),i=ZC.D4(e.y);e=ZC.D4(e.z);this.E6=i*(g*(a.y-c.y)+e*(a.x-c.x))-d*(a.z-c.z);this.DX=f*(i*(a.z-c.z)+d*(g*(a.y-c.y)+e*(a.x-c.x)))+h*(e*(a.y-c.y)-g*(a.x-c.x));this.A1A=h*
(i*(a.z-c.z)+d*(g*(a.y-c.y)+e*(a.x-c.x)))-f*(e*(a.y-c.y)-g*(a.x-c.x));this.DD[0]=ZC.AK.DZ+ZC.AK.UX/(ZC.AK.UX+this.A1A)*this.E6*b;this.DD[1]=ZC.AK.DY+ZC.AK.UX/(ZC.AK.UX+this.A1A)*this.DX*b}else{this.DD[0]=ZC.AK.DZ+a+f*ZC.D4(d)*b;this.DD[1]=ZC.AK.DY+c-f*ZC.CP(d)*b}}});
ZC.R0=ZC.BX.B6({$i:function(b,a){this.D=a;this.S=b;this.P="";this.L7=0;this.L4=[1,1,1];this.DL=-1;this.C=[];this.K5=[];this.T7=this.MN=-9999;this.YT=this.UY=this.UQ=9999;this.A1B=this.YH=this.A01=0},add:function(b,a){this.C.push(b);this.K5.push(a||b)},A2H:function(){for(var b=this.K5.length,a=0;a<b;a++){var c=this.K5[a];this.MN=ZC.BR(this.MN,c.iZ);if(this.D.DM.true3d==1){this.UQ=ZC.CT(this.UQ,c.iZ);this.T7=ZC.BR(this.T7,c.A1A);this.YH+=c.iY}else{this.UY=ZC.CT(this.UY,c.iX);this.YT=ZC.CT(this.YT,c.iY);
this.A01+=c.iX;this.YH+=c.iY;this.A1B+=c.iZ}}this.A01/=b;this.YH/=b;this.A1B/=b},DF:function(){for(var b="",a=0,c=this.C.length;a<c;a++)b+=ZC._i_(this.C[a].DD[0]+ZC.MAPTX)+","+ZC._i_(this.C[a].DD[1]+ZC.MAPTX)+",";return b=b.substring(0,b.length-1)}});
ZC.P4=ZC.BX.B6({$i:function(){this.UP=[];this.QA=[]},clear:function(){this.UP=[];this.QA=[]},add:function(b){this.UP.push(b)},sortFaces:function(b,a){if(zingchart.V3D==1)return b[0][0]>a[0][0]?-1:b[0][0]<a[0][0]?1:b[0][1]>a[0][1]?1:b[0][1]<a[0][1]?-1:b[0][2]>a[0][2]?-1:b[0][2]<a[0][2]?1:b[0][3]>a[0][3]?-1:b[0][3]<a[0][3]?1:0;else if(zingchart.V3D==2)return b[0][3]!=-1||a[0][3]!=-1?b[0][3]>a[0][3]?1:b[0][3]<a[0][3]?-1:0:b[0][0]>a[0][0]?-1:b[0][0]<a[0][0]?1:b[0][1]>a[0][1]?1:b[0][1]<a[0][1]?-1:b[0][2]>
a[0][2]?1:b[0][2]<a[0][2]?-1:0}});ZC.QU.push("3d");ZC.HZ.prototype.JC=function(){if(this.AQ["3d"]&&typeof ZC.AK!=ZC._[33]){ZC.AK.UX=2.5*ZC.BR(this.G,this.E);ZC.AK.DZ=this.O.iX+this.O.G/2;ZC.AK.DY=this.O.iY+this.O.E/2;ZC.AK.FS=ZC._i_(this.DM.depth)}};
ZC.HZ.prototype.parse3D=function(){var b;if(this.AQ["3d"]&&typeof ZC.AK!=ZC._[33]){this.A.AR.load(this.DM,"graph.3d-aspect");this.A.AR.load(this.DM,this.AC+".3d-aspect");if((b=this.o[ZC._[28]])!=null)ZC._cp_(b,this.DM);var a=["angle","depth",ZC._[29],ZC._[30],ZC._[31],"zoom"];for(b=0;b<a.length;b++)this.DM[a[b]]=ZC._f_(this.DM[a[b]]);a=["angle",ZC._[29],ZC._[30],ZC._[31]];for(b=0;b<a.length;b++)ZC.DQ(this.DM[a[b]],this.AQ[a[b]+"-min"],this.AQ[a[b]+"-max"])||(this.DM[a[b]]=this.AQ[a[b]+"-min"]);this.DM.true3d=
ZC._b_(this.DM.true3d)}};
ZC.HZ.prototype.SA=function(){for(var b=this.BZ.UP.length,a=0;a<b;a++){var c=this.BZ.UP[a];c.A2H();this.BZ.QA[a]=this.DM.true3d?[[ZC._f_(c.MN.toFixed(1))*c.L4[0],ZC._f_(c.UQ.toFixed(1))*c.L4[1],ZC._f_(c.T7.toFixed(1))*c.L4[2],ZC._f_(c.YH.toFixed(1))],a]:[[ZC._f_(c.MN.toFixed(1))*c.L4[0],ZC._f_(c.UY.toFixed(1))*c.L4[1],ZC._f_(c.A01.toFixed(1))*c.L4[2],ZC._i_(c.DL)],a]}zingchart.V3D=this.DM.true3d?1:2;this.BZ.QA.sort(this.BZ.sortFaces);for(a=0;a<b;a++){var f=[];c=this.BZ.UP[this.BZ.QA[a][1]];var d=
c.C.length;if(d>0){for(var e=0;e<d;e++)f.push(c.C[e].DD);f.push(c.C[0].DD);d=new ZC.CY(this);d.P=this.P+"-3dshape-"+ZC.SEQ;ZC.SEQ++;d.copy(c.S);c.S.C4()&&d.parse();d.CL=0;d.X=this.H.usc()?this.H.mc():ZC.AN(this.P+"-plots-bl-c");d.locate(1);d.C=f;d.E9="poly";d.locate(2);d.paint()}}};
