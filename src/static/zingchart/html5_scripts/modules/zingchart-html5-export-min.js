/*
All of the code within the ZingChart software is developed and copyrighted by PINT, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from PINT. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 0.120731
*/
ZC.XL={};ZC.QU.push("export");ZC.BP.TZ=function(b,c,d,e){e=e||"png";if(e=="jpg")e="jpeg";var a=document.createElement("canvas");a.width=c;a.height=d;a.style.width=c+"px";a.style.height=d+"px";var f=a.getContext("2d");b instanceof Array||(b=[b]);for(var g=0,h=b.length;g<h;g++)b[g].className.indexOf("zc-no-print")==-1&&f.drawImage(b[g],0,0,b[g].width,b[g].height,0,0,c,d);return a.toDataURL("image/"+e)};
ZC.BP.A0W=function(b,c,d,e,a){if(a==null)a=0;b=ZC.BP.TZ(b,c,d,e);if(a){e=document.createElement("img");e.src=b;return e}else{b=b.replace("image/"+e,"image/octet-stream");document.location.href=b}};
ZC.LM.prototype.Z7=function(){var b=this,c=[];if(!b.ZQ){b.ZQ=1;var d=document.body.childNodes,e=ZC.A3(document.body).css(ZC._[0]),a=ZC.A3(document.body).css("background-image");ZC.A3(document.body).css(ZC._[0],"#fff").css("background-image","none");for(var f=0,g=d.length;f<g;f++)if(d[f].nodeType==1){c[f]=d[f].style.display;d[f].style.display="none"}document.body.appendChild(ZC.AN(b.P+"-top"));window.setTimeout(function(){window.print();window.setTimeout(function(){ZC.A3(document.body).css(ZC._[0],
e).css("background-image",a);ZC.AN(b.P).appendChild(ZC.AN(b.P+"-top"));for(var h=0,j=d.length;h<j;h++)if(d[h].nodeType==1)d[h].style.display=c[h];b.ZQ=0},1E3)},50)}};
ZC.LM.prototype.LW=function(b,c,d,e){var a=this;c=c||{};if(typeof d==ZC._[33])d=0;if(ZC.AN(a.P+"-viewimage")==null){b=b||"png";ZC.L.J1(ZC.AN(a.P+"-guide-c"),a.A5,0,0,a.G,a.E);ZC.A3(".zc-guide-label").remove();var f=(a.A5=="canvas"||zingchart.AJAXEXPORT)&&b!="pdf";if(f&&!d)var g=ZC.L.HW({cls:"zc-abs zc-viewimage zc-style",id:a.P+"-viewimage",p:ZC.AN(a.P+"-top"),wh:a.G-10+"/"+(a.E-10)}),h=ZC.L.HW({id:a.P+"-viewimage-close",p:g,tl:"5/"+(a.G-15),html:ZC.F7["viewimage-close"]});if(a.A5=="canvas"&&b!="pdf"){var j=
document.createElement("canvas");j.width=a.G;j.height=a.E;for(var l=0,n=a.AY.length;l<n;l++)for(var k=0,w=a.AY[l].BK.length;k<w;k++)a.AY[l].BK[k].D7(j);var m=[];ZC.A3("#"+a.P+" canvas").each(function(){ZC.AH([a.P+"-guide-c",a.P+"-trigger-c"],this.id)==-1&&m.push(this)});m.push(j);j=ZC.BP.A0W(m,a.G,a.E,b,true);j.id=a.P+"-print-"+b;g.appendChild(j)}else{d||a.X9(ZC.F7["export-wait"]);var t=function(){var o={svg:q,w:a.G,h:a.E,t:b};ZC._cp_(c,o);if(zingchart.AJAXEXPORT&&b!="pdf"){var r="base64=1&",s;for(s in o)r+=
s+"="+encodeURIComponent(o[s])+"&";ZC.A3.ajax({type:"post",url:zingchart.EXPORTURL,data:r,success:function(x,u,y){a.UB();if(d)e&&e(x,u,y);else{u=document.createElement("img");u.src=x;u.id=a.P+"-print-"+b;g.appendChild(u)}}})}else{ZC.AN(a.P+"-export")&&ZC.L.FA(a.P+"-export");ZC.L.HW({cls:"zc-abs zc-style",id:a.P+"-export",p:ZC.AN(a.P+"-top"),display:"none"});r=ZC.L.A0I(ZC.AN(a.P+"-export"));var p=r.createElement("FORM");p.action=zingchart.EXPORTURL;p.method="post";r.body.appendChild(p);p.style.display=
"none";for(s in o){var v=r.createElement("INPUT");v.type="hidden";v.name=s;v.value=o[s];p.appendChild(v)}p.submit();p=null;window.setTimeout(function(){a.UB()},1E3)}},q=ZC.AN(a.P+"-top").innerHTML;if(a.A5=="vml"||a.A5=="canvas"&&b=="pdf"){j=document.createElement("div");j.id="zc-export-svg";document.body.appendChild(j);zingchart.render({id:"zc-export-svg",output:"!svg",imggen:true,width:a.G,height:a.E,data:a.I.json,defaults:a.I3,hideprogresslogo:true,events:{load:function(){q=ZC.AN("zc-export-svg-top").innerHTML;
zingchart.exec("zc-export-svg","destroy");t()}}})}else a.A5=="svg"&&t()}if(f&&!d){ZC.A3(h).css("cursor","pointer").css("left",a.G-15-ZC.A3(h).width()+"px");ZC.A3(h).bind("click",function(){ZC.A3(g).remove()})}}};ZC.LM.prototype.QT=function(b){var c=this;b=b||"png";var d=[];ZC.A3("#"+c.P+" canvas").each(function(){ZC.AH([c.P+"-guide-c",c.P+"-tooltip-c"],this.id)==-1&&d.push(this)});return ZC.BP.TZ(d,c.G,c.E,b)};
zingchart.A0K=function(b,c,d){var e;if(document.getElementById("zc-fullscreen"))b="zc-fullscreen";d=d||{};if(typeof d=="string")d=JSON.parse(d);b=zingchart.getLoader(b);if(b!=null)switch(c){case "getimagedata":if(b.A5!="canvas"&&!zingchart.AJAXEXPORT)return-1;c="png";if((e=d.format)!=null)c=e;if((e=d.filetype)!=null)c=e;if(c=="jpg")c="jpeg";if(b.A5=="canvas")return b.QT(c);else b.LW(c,{},true,d.callback);break;case "exportimage":case "saveasimage":if(b.A5!="canvas"&&!zingchart.AJAXEXPORT)return-1;
c="png";e=d.options;if((e=d.format)!=null)c=e;if((e=d.filetype)!=null)c=e;var a=b.I.exportimageurl||"";if((e=d.url)!=null)a=e;var f=null;if((e=d.callback)!=null)f=e;if(c=="jpg")c="jpeg";var g=function(m){ZC.A3.ajax({type:"post",url:a,data:m,success:function(t,q,o){f&&f(t,q,o)}})};if(a!="")if(b.A5=="canvas")return g(b.QT(c));else b.LW(c,{},true,function(m){return g(m)});break;case "exportdata":a=b.I.exportdataurl||"";if((e=d.url)!=null)a=e;c="";for(var h=0,j=b.AY.length;h<j;h++){c+=",";e=b.AY[h];for(var l=
e.B0.AA,n=0,k=l.length;n<k;n++)c+='"'+l[n].AX.replace('"','"')+'",';c=c.substr(0,c.length-1);c+="\n";n=e.BB("k")[0];k=0;for(var w=n.Z.length;k<w;k++){c+=n.Z[k]+",";i=0;for(A4=l.length;i<A4;i++)if((e=l[i].Q[k])!=null)c+=e.D0+",";c=c.substr(0,c.length-1);c+="\n"}if(j>1&&h<j-1)c+="\n$\n\n"}if(a!=""){f=null;if((e=d.callback)!=null)f=e;ZC.A3.ajax({type:"post",url:a,data:c,success:function(m,t,q){f&&f(m,t,q)}})}else return c}return null};
