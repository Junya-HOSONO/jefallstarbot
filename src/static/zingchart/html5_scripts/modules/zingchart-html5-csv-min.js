/*
All of the code within the ZingChart software is developed and copyrighted by PINT, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from PINT. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 0.120731
*/
ZC.QU.push("csv");
ZC.ZL=ZC.BX.B6({$i:function(b,a){this.o=null;this.D=b;this.J6=a},parse:function(){var b;this.o=this.D.o;var a=this.J6,c="\r\n",d=",",f=0,k=null,o=null,g=null,q=null,r=null,i=null,e={};if((b=this.o["html5-csv"])!=null)e=b;if((b=this.o.csv)!=null)e=b;if((b=e.separator)!=null)d=b;if((b=e.mirrored)!=null)f=ZC._b_(b);if((b=e.title)!=null)k=ZC._b_(b);if(f){if((b=e["horizontal-labels"])!=null)g=ZC._b_(b);if((b=e["vertical-labels"])!=null)o=ZC._b_(b)}else{if((b=e["horizontal-labels"])!=null)o=ZC._b_(b);if((b=
e["vertical-labels"])!=null)g=ZC._b_(b)}if((b=e["smart-scales"])!=null)q=ZC._b_(b);if((b=e["separate-scales"])!=null)r=ZC._b_(b);if((b=e.columns)!=null)i=b;if(i!=null&&i.length>0){var h=[];if((b=e["row-separator"])!=null)c=b;else if(a.split(/\n/).length>0)c="\n";else if(a.split(/\r/).length>0)c="\r";c=a.split(c);a=e=0;for(d=c.length;a<d;a++)if(c[a].replace(/\s+/g,"")!=""){h[e]=[];for(var l=0,m=0;l<c[a].length-1;){b=c[a].substring(l,l+i[m]);h[e].push(b);l+=i[m];m++}e++}}else{h=[[]];i=(b=e["row-separator"])!=
null?RegExp("(\\"+d+"|"+b+'|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+d+""+b+"]*))","gi"):RegExp("(\\"+d+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+d+"\\r\\n]*))","gi");for(b=null;b=i.exec(a);){c=b[1];c.length&&c!=d&&h.push([]);b=b[2]?b[2].replace(RegExp('""',"g"),'"'):b[3];h[h.length-1].push(b)}}c=[];a=0;for(d=h.length;a<d;a++)h[a].join("").replace(/\s+/g,"").length!=0&&c.push(h[a]);i=e=0;if(k==null)if(c.length>1&&c[0].length==1){if(this.o.title==null)this.o.title={text:c[0][0]};else if(this.o.title.text==
null)this.o.title.text=c[0][0];k=1}else k=0;k&&e++;if(f){h=[];k&&h.push(c[0]);d=e;for(m=c.length;d<m;d++){var j=0;for(f=c[d].length;j<f;j++){if(h[j+e]==null)h[j+e]=[];h[j+e].push(c[d][j])}}c=h}a=l=0;for(d=c.length;a<d;a++)l=ZC.BR(l,c[a].length);h=[];if(o==null){o=c[e].join("").length;o=c[e].join("").replace(/[0-9]/g,"").length/o>0.75?1:0}if(o){h=c[e];e++}a=[];if(g==null)if(o&&h[0].indexOf("\\")!=-1)g=1;else{g="";d=e;for(m=c.length;d<m;d++)g+=c[d][0];f=g.length;g=g.replace(/[0-9]/g,"").length/f>0.75?
1:0}if(g){d=e;for(m=c.length;d<m;d++)a.push(c[d][i]);i++}f=[];k=[];for(j=i;j<l;j++){k[j-i]=[];var n=null,s=null,u=0,v=null;d=e;for(m=c.length;d<m;d++)if(c[d][j]!=null&&c[d][j]!=""&&typeof c[d][j]!=ZC._[33]){b=c[d][j];if(v==null)v=b.replace(/[0-9\-\,\.\+\e]+/g,"%v");b=b.replace(/[^0-9\-\,\.\+\e]+/g,"");var p=b.indexOf("."),t=b.indexOf(",");if(p!=-1&&t!=-1)if(p<t){n=".";s=",";u=ZC.BR(0,b.length-t)}else{n=",";s=".";u=ZC.BR(0,b.length-p)}else if(p==-1&&t!=-1)if(b.length-t-1==3){n=",";s="."}else{n=".";
s=",";u=ZC.BR(0,b.length-t)}else if(p!=-1&&t==-1)if(b.length-p-1==3){n=".";s=","}else{n=",";s=".";u=ZC.BR(0,b.length-p)}if(n==".")b=b.replace(/\./g,"").replace(/,/g,".");if(n==",")b=b.replace(/,/g,"");if(isNaN(ZC._f_(b))){p=ZC.AH(this.D.HP,b);if(p!=-1)k[j-i].push(p);else{this.D.HP.push(b);k[j-i].push(this.D.HP.length-1)}}else k[j-i].push(ZC._f_(b))}else k[j-i].push(null);f[j-i]={};if(v!=null)f[j-i].format=v;if(n!=null)f[j-i][ZC._[15]]=n;if(n!=null)f[j-i][ZC._[16]]=s;if(u!=0)f[j-i][ZC._[14]]=u}b=[];
switch(this.D.AC){case "line":case "area":case "vbar":case "hbar":case "line3d":case "area3d":case "vbar3d":case "hbar3d":case "mixed":if(this.o[ZC._[52]]==null)this.o[ZC._[52]]={};c=[];if(g&&h[0]!=null)c=h[0].split(/\\/);if(c[0]!=null){if(this.o[ZC._[52]].label==null)this.o[ZC._[52]].label={};if(this.o[ZC._[52]].label.text==null)this.o[ZC._[52]].label.text=c[0]}if(g)if(this.o[ZC._[52]][ZC._[5]]==null)this.o[ZC._[52]][ZC._[5]]=a;else if(this.o[ZC._[52]][ZC._[12]]==null)this.o[ZC._[52]][ZC._[12]]=
a;g=[];e=0;if(r!=null&&r){a=0;for(d=k.length;a<d;a++){g[a]=ZC._[53]+(a==0?"":"-"+(a+1));e++}}else if(q!=null&&q){q={};r=0;e=[];a=0;for(d=k.length;a<d;a++){m=l=0;for(j=k[a].length;m<j;m++)l+=k[a][m];l/=k[a].length;l=Math.round(ZC.NZ(l)/Math.LN10/2);if(q[l]==null)q[l]=ZC._[53]+(r==0?"":"-"+(r+1));g[a]=ZC.AH(e,f[a].format)==-1?ZC._[53]+(r==0?"":"-"+(r+1)):q[l];r++;e.push(f[a].format)}}if(g.length==0)g[0]=ZC._[53];if(this.o[ZC._[13]]==null)this.o[ZC._[13]]=[];a=0;for(d=k.length;a<d;a++){if(this.o[ZC._[13]][a]==
null)this.o[ZC._[13]][a]={};this.o[ZC._[13]][a][ZC._[5]]=k[a];if(o){if(this.o[ZC._[13]][a].text==null){this.o[ZC._[13]][a].text=h[a+i];b.push(h[a+i])}if(this.o[ZC._[13]][a]["legend-text"]==null){this.o[ZC._[13]][a]["legend-text"]=h[a+i];b.push(h[a+i])}if(this.o[ZC._[13]][a]["tooltip-text"]==null&&f[a].format!=null)this.o[ZC._[13]][a]["tooltip-text"]=f[a].format}if(g[a]!=null){if(this.o[g[a]]==null)this.o[g[a]]={};if(c[1]!=null){if(this.o[g[a]].label==null)this.o[g[a]].label={};if(this.o[g[a]].label.text==
null)this.o[g[a]].label.text=c[1]}if(this.o[ZC._[13]][a].scales==null)this.o[ZC._[13]][a].scales="scale-x,"+g[a];if(this.o[g[a]][ZC._[14]]==null&&f[a][ZC._[14]]!=null)this.o[g[a]][ZC._[14]]=f[a][ZC._[14]];if(this.o[g[a]][ZC._[15]]==null&&f[a][ZC._[15]]!=null)this.o[g[a]][ZC._[15]]=f[a][ZC._[15]];if(this.o[g[a]][ZC._[16]]==null&&f[a][ZC._[16]]!=null)this.o[g[a]][ZC._[16]]=f[a][ZC._[16]];if(this.o[g[a]].format==null&&f[a].format!=null)this.o[g[a]].format=f[a].format}}break;case "pie":case "pie3d":case "nestedpie":if(this.o.scale==
null)this.o.scale={};if(g&&h[0]!=null){q=h[0].split(/\\/);if(this.o.scale.label==null)this.o.scale.label={};if(this.o.scale.label.text==null)this.o.scale.label.text=q[0]}if(g)if(this.o.scale[ZC._[5]]==null)this.o.scale[ZC._[5]]=a;else if(this.o.scale[ZC._[12]]==null)this.o.scale[ZC._[12]]=a;if(this.o[ZC._[13]]==null)this.o[ZC._[13]]=[];a=0;for(d=k.length;a<d;a++){if(this.o[ZC._[13]][a]==null)this.o[ZC._[13]][a]={};this.o[ZC._[13]][a][ZC._[5]]=k[a];if(o){if(this.o[ZC._[13]][a].text==null){this.o[ZC._[13]][a].text=
h[a+i];b.push(h[a+i])}if(this.o[ZC._[13]][a]["legend-text"]==null){this.o[ZC._[13]][a]["legend-text"]=h[a+i];b.push(h[a+i])}if(this.o[ZC._[13]][a]["tooltip-text"]==null&&f[a].format!=null)this.o[ZC._[13]][a]["tooltip-text"]=f[a].format}if(this.o[ZC._[54]]==null)this.o[ZC._[54]]={};if(this.o[ZC._[54]][ZC._[14]]==null&&f[a][ZC._[14]]!=null)this.o[ZC._[54]][ZC._[14]]=f[a][ZC._[14]];if(this.o[ZC._[54]][ZC._[15]]==null&&f[a][ZC._[15]]!=null)this.o[ZC._[54]][ZC._[15]]=f[a][ZC._[15]];if(this.o[ZC._[54]][ZC._[16]]==
null&&f[a][ZC._[16]]!=null)this.o[ZC._[54]][ZC._[16]]=f[a][ZC._[16]];if(this.o[ZC._[54]].format==null&&f[a].format!=null)this.o[ZC._[54]].format=f[a].format}}if(b.join("")!=""&&this.o.legend==null)this.o.legend={};return this.o}});
