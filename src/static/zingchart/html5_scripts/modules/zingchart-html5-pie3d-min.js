/*
All of the code within the ZingChart software is developed and copyrighted by PINT, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from PINT. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 0.120731
*/
ZC.QU.push("pie3d");ZC.Z9=ZC.WQ.B6({$i:function(a){this.b(a);this.AC="pie3d";this.B0=new ZC.XP(this);this.BZ=new ZC.P4;this.AQ["3d"]=1;this.AQ[ZC._[57]]=0;this.AQ["x-angle-min"]=10;this.AQ["x-angle-max"]=80;this.AQ["y-angle-min"]=0;this.AQ["y-angle-max"]=0},clear:function(){this.b();this.BZ.clear()},paint:function(){this.b();this.SA();this.IA()}});ZC.XP=ZC.V5.B6({A26:function(){return new ZC.PK(this)}});
ZC.PK=ZC.OU.B6({$i:function(a){this.b(a);this.AC="pie3d";this.A2A=1;this.JA=-1},parse:function(){this.b();this.Q4_a([["tilt","A2A","fa"],["thickness","JA","ia"]])},OD:function(){return new ZC.WM(this)}});
ZC.WM=ZC.GN.B6({U:null,$i:function(a){this.b(a)},parse:function(){this.b()},KJ:function(a,d){var b=this.A.M6();ZC._cp_(d,b);var e=this.A9*100/this.A.A.L1[this.J],f=new String(e);if(b[ZC._[14]]!=null)f=e.toFixed(ZC.BR(0,ZC._i_(b[ZC._[14]])));this.DN=[["%node-percent-value",f],["%npv",f]];return a=this.b(a,d)},S5:function(a){var d=(this.AL+this.AW)/2%360;if((a=a["offset-r"])!=null)ZC._f_(ZC._p_(a));d=(new ZC.C0(this.D,(this.BV+0.5*(this.AU-this.BV)+this.DT+U.DT)*ZC.D4(d),(this.BV+0.5*(this.AU-this.BV)+
this.DT+U.DT)*ZC.CP(d),0)).DD;return[d[0],d[1],{reference:this,center:true}]},setup:function(){var a=this.D.B2(this.A.BB("k")[0]),d=Math.floor(this.J/a.GP);this.iX=a.iX+(a.GP-1-this.J%a.GP)*a.EB+a.EB/2+a.C9;this.iY=a.iY+(a.K1-1-d)*a.EA+a.EA/2+a.CF;if(!this.FO){this.copy(this.A);this.DK=this.A.DK;this.C4()&&this.parse();this.FO=1}},PA:function(a){var d={},b="out";if(a.o[ZC._[9]]!=null)b=a.o[ZC._[9]];d.color=b=="out"?this.Y:this.BM;return d},A1N:function(a){var d="out";if(a.o[ZC._[9]]!=null)d=a.o[ZC._[9]];
var b=(this.AL+this.AW)/2%360,e,f,g=this.D.B2(this.A.BB("k")[0]),h=this.J%g.GP;e=Math.floor(this.J/g.GP);if(d!="in"){f=(this.AU*1.25+this.A.DT+a.DT)*ZC.D4(b);d=(this.AU*1.25+this.A.DT+a.DT)*ZC.CP(b);h=g.iX+h*g.EB+g.EB/2+g.C9;g=g.iY+e*g.EA+g.EA/2+g.CF;e=h+f+a.C9-a.G/2;d=f=g+d+a.CF-a.E/2;this.U=a;if(b>=0&&b<=90||b>=270&&b<=360)e+=a.G/2+10;else e-=a.G/2+10;f=new ZC.C0(this.D,e-ZC.AK.DZ,f-ZC.AK.DY,0);e=f.DD[0];f=f.DD[1];var m=null,k=-1;if(this.A.J>0&&this.A.A.AA[this.A.J-1].Q.length>this.J){m=this.A.A.AA[this.A.J-
1].Q[this.J];if(m.U!=null&&m.U.AM&&m.A9!=null){var l=m.U.iY,n=m.U.E;k=(m.AL+m.AW)/2%360;var c=0,i=e-h,j=f-g;i=Math.sqrt(i*i+j*j);if(b>=0&&b<=90||b>=270&&b<=360&&k>=0&&k<=90||k>=270&&k<=360){if(f<l+n){j=l+n+2;c=j-f;f=j}}else if(b>90&&b<270&&k>90&&k<270)if(l<f+a.E){j=l-a.E-2;c=f-j;f=j}if(c!=0&&b){var o=f-g;if(i>=o&&(b>90&&b<180||b>=270)){e=Math.asin(o/i);e=e=b>90&&b<270?h-i*Math.cos(e):h+i*Math.cos(e)}}}}o=1;c=0;i=e-h;j=f-g;i=Math.sqrt(i*i+j*j);for(j=0;o&&c<20;){o=0;c++;for(var q={x:e,y:f,width:a.G,
height:a.E},p=0,s=this.A.A.NN.length;p<s;p++){q.x=e;q.y=f;var r=this.A.A.NN[p];if(ZC.AV._boxoverlap_(q,r)){if(j==0)j=d<r.oy?-1:1;if(m!=null&&k!=-1)if((b>=0&&b<=90||b>=270&&b<=360)&&(k>=0&&k<=90||k>=270&&k<=360)){if(f<l+n)j=1}else if(b>90&&b<270&&k>90&&k<270)if(l<f+a.E)j=-1;f=j==-1?r.y-a.E-2:r.y+r.height+2;o=Math.abs(f-g);if(i>=o&&(b>90&&b<180||b>=270)){e=Math.asin(o/i);e=e=b>90&&b<270?h-i*Math.cos(e):h+i*Math.cos(e)}o=1}}}r={x:e,y:f,width:a.G,height:a.E,plotindex:this.A.J,nodeindex:this.J,oy:d};this.A.A.NN.push(r)}else{l=
(new ZC.C0(this.D,(this.BV+0.5*(this.AU-this.BV)+this.DT+a.DT)*ZC.D4(b),(this.BV+0.5*(this.AU-this.BV)+this.DT+a.DT)*ZC.CP(b),0)).DD;e=l[0]-a.D8/2+this.C9;f=l[1]-a.CG/2+this.CF}return[e,f,b]},G9:function(){var a=this,d=a.b();if(d.AM&&d.AX!=null&&d.AX!=""){var b="out";if(d.o[ZC._[9]]!=null)b=d.o[ZC._[9]];if(b=="out"){b=1;if((F=d.o.connected)!=null)b=ZC._b_(F);if(b){b=new ZC.CY(a.A);b.X=b.BT=a.H.usc()?a.H.mc("top"):a.D.AQ["3d"]||a.H.L7?ZC.AN(a.D.P+"-plots-vb-c"):ZC.AN(a.D.P+"-plot-"+a.A.J+"-vb-c");
b.append(a.A.B1.o);a.PA(d);b.AT=a.Y;b.E9="line";b.C=[];var e=d.I.positioninfo,f=(a.AL+a.AW)/2%360,g=e[2],h=0;if(f>=0&&f<=180)h=a.I.thickness/2;var m=a.D.O.iY+a.D.O.E/2-a.iY;f=(new ZC.C0(a.D,a.D.O.iX+a.D.O.G/2-a.iX+(a.AU+a.DT+d.DT)*ZC.D4(f),m+(a.AU+a.DT+d.DT)*ZC.CP(f),h)).DD;f[0]+=a.C9;f[1]+=a.CF;b.C.push(f);g>=0&&g<=90||g>=270&&g<=360?b.C.push([e[0]-10,e[1]+d.E/2],[e[0],e[1]+d.E/2]):b.C.push([e[0]+10+d.G,e[1]+d.E/2],[e[0]+d.G,e[1]+d.E/2]);b.parse();b.GW=function(k){return a.GW(k)};b.C4()&&b.parse();
b.AM&&b.paint()}}}},paint:function(){function a(o,q,p){return[[g+o*ZC.D4(p),h+o*ZC.CP(p),0],[g+o*ZC.D4(p),h+o*ZC.CP(p),f],[g+q*ZC.D4(p),h+q*ZC.CP(p),f],[g+q*ZC.D4(p),h+q*ZC.CP(p),0]]}var d=this.D.BZ,b=this.D.B2(this.A.BB("k")[0]);this.D.B2("scale-r");var e=this.D.DM[ZC._[30]];this.setup();if(!(this.A9<0)){this.AU=ZC.CT(b.EA,b.EB)/2;if(this.A.o[ZC._[23]]!=null)this.AU=this.A.AU;this.AU=b.IP*this.AU;if(this.BV<1)this.BV*=this.AU;var f=this.A.JA;if(f==-1)f=this.AU/5;this.I.thickness=f;var g=ZC.AK.DZ-
this.iX,h=ZC.AK.DY-this.iY;this.AL=ZC._i_(this.AL);this.AW=ZC._i_(this.AW);var m=(this.AL+this.AW)/2;if(this.DT>0){g+=this.DT*ZC.D4(m);h+=this.DT*ZC.CP(m)}var k=this.A.FG(this,this),l=new ZC.E5(this);l.copy(k);l.Y=ZC.BP.KV(ZC.BP.LQ(l.Y));l.A8=ZC.BP.KV(ZC.BP.LQ(l.A8));var n=[],c=this.AL;n.push([g+this.BV*ZC.D4(c),h+this.BV*ZC.CP(c),0]);for(c=this.AL;c<=this.AW;c+=1)n.push([g+this.AU*ZC.D4(c),h+this.AU*ZC.CP(c),0]);c=this.AW;n.push([g+this.BV*ZC.D4(c),h+this.BV*ZC.CP(c),0]);for(c=this.AW;c>=this.AL;c-=
1)n.push([g+this.BV*ZC.D4(c),h+this.BV*ZC.CP(c),0]);b=ZC.DC.DV(k,this.D,n);d.add(b);var i=null;if(this.AL%360>=0+e&&this.AL%360<180+e||this.AW%360>0+e){var j=this.AL;i=this.AW;n=[];c=j;n.push([g+this.AU*ZC.D4(c),h+this.AU*ZC.CP(c),0]);for(c=j;c<=i;c+=1)n.push([g+this.AU*ZC.D4(c),h+this.AU*ZC.CP(c),0]);c=i;n.push([g+this.AU*ZC.D4(c),h+this.AU*ZC.CP(c),f]);for(c=i;c>=j;c-=1)n.push([g+this.AU*ZC.D4(c),h+this.AU*ZC.CP(c),f]);i=ZC.DC.DV(l,this.D,n);if(m%360>0&&m%360<180)i.L4=[0.1,1,1,1];d.add(i)}m=null;
if(this.BV>0+e&&this.AW>180+e){n=[];j=c=this.AL;if(this.AL<180+e&&this.AW>180+e){c=180+e;j=180+e}n.push([g+this.BV*ZC.D4(c),h+this.BV*ZC.CP(c),0]);for(c=j;c<=this.AW;c+=1)n.push([g+this.BV*ZC.D4(c),h+this.BV*ZC.CP(c),0]);c=this.AW;n.push([g+this.BV*ZC.D4(c),h+this.BV*ZC.CP(c),f]);for(c=this.AW;c>=j;c-=1)n.push([g+this.BV*ZC.D4(c),h+this.BV*ZC.CP(c),f]);m=ZC.DC.DV(l,this.D,n);d.add(m)}e=ZC.DC.DV(k,this.D,{points:a(this.BV,this.AU,this.AL),mathpoints:a(this.BV+1,this.AU+1,this.AL-1)});d.add(e);k=ZC.DC.DV(k,
this.D,{points:a(this.BV,this.AU,this.AW),mathpoints:a(this.BV+1,this.AU+1,this.AW+1)});d.add(k);d=this.D.P+ZC._[36]+this.D.P+ZC._[37]+this.A.J+ZC._[6];d=ZC.L.DJ("poly")+'class="'+d+'" id="'+this.P;l=this.A.A.FZ;l.push(d+"--top"+ZC._[32]+b.DF()+'"/>');i&&l.push(d+"--outer"+ZC._[32]+i.DF()+'"/>');if(this.BV>0||this.DT>0){m&&l.push(d+"--inner"+ZC._[32]+m.DF()+'"/>');l.push(d+"--start"+ZC._[32]+e.DF()+'"/>',d+"--end"+ZC._[32]+k.DF()+'"/>')}this.A.U!=null&&this.G9()}}});
