/*
All of the code within the ZingChart software is developed and copyrighted by PINT, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from PINT. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 0.120731
*/
zingchart.setModule("treemap");
(function(){var p={};ZC.A4U=function(){this.P=this.AX="";this.A4W=this.A4V=0;this.o={};this.A4P=[];this.A2X=this.A=null;this.J=this.FS=0;this.A4O="#336699";this.A3A=function(){var a=0,f=0,c=[];if(this.A4P.length>0){for(var j=0;j<this.A4P.length;j++){c=this.A4P[j].A3A();a+=c[0];f=Math.max(f,c[1])}this.A4V=a;this.A4W=f}else{a=this.A4V;f=this.A4W;this.A2X.A4I=Math.max(this.A2X.A4I,this.A4V);this.A2X.A4H=Math.min(this.A2X.A4H,this.A4V);this.A2X.A2W=Math.max(this.A2X.A2W,this.A4W);this.A2X.A2V=Math.min(this.A2X.A2V,
this.A4W)}return[a,f]};this.sortChildren=function(){if(this.A4P.length>0){this.A4P.sort(function(f,c){return f.AX=="./"||f.AX.indexOf("index.")>0?-1:c.AX=="./"||c.AX.indexOf("index.")>0?1:f.A4V>c.A4V?-1:f.A4V<c.A4V?1:0});for(var a=0;a<this.A4P.length;a++)this.A4P[a].sortChildren()}}};ZC.A4X=function(){this.H=null;this.G=800;this.E=600;this.HL=0;this.A3V=[];this.A4H=ZC.MAX;this.A4I=-ZC.MAX;this.A2V=ZC.MAX;this.A2W=-ZC.MAX;this.A4G=[];this.A4J=[];this.A4K=0;this.A4O="";this.A4N=0;this.A4M=[];this.A4L=
5;this.A4Y=10;this.A3S=[];this.A34="balanced";this.A33="palette";this.A32=0;this.A35=0.4;this.A36="#336699";this.A39="#99ccff";this.A2S=0;this.AZ=["#00B0E2","#FF9C00","#696868","#cc3300","#6d6d22","#666697","#874c11","#195272"];this.BD={textAlign:"left",verticalAlign:"top",borderWidth:1,color:"#fff",bold:0};ZC._todash_(this.BD);this.A31=null;this.A30={padding:8,borderWidth:1,shadow:0,borderColor:"#fff",color:"#fff",bold:0,text:"%text:%value-size"};ZC._todash_(this.A30);this.A2U={padding:8,borderWidth:1,
shadow:0,borderColor:"#fff",color:"#fff",bold:0,text:"%text"};ZC._todash_(this.A2U);this.FK={backgroundColor:"#fff",alpha:0.4,borderColor:"#000"};ZC._todash_(this.FK);this.A2T={};this.parse=function(a,f){if(f==0){this.A31=new ZC.D1(this.H);this.A31.append(this.BD);this.A31.parse()}for(var c,j=[],d=0;d<a.length;d++){var i=new ZC.A4U;i.AX=a[d].text;i.P=a[d].id||a[d].text;i.P=i.P.replace(/[^a-z0-9]+/gi,"");if((c=a[d][ZC._[11]])!=null)i.A4V=i.A4W=parseFloat(c);if((c=a[d]["value-size"])!=null)i.A4V=i.A4W=
parseFloat(c);if((c=a[d]["value-aspect"])!=null)i.A4W=parseFloat(c);for(var g in a[d])if(a[d].hasOwnProperty(g)&&g.substring(0,5)=="data-")i.o[g]=a[d][g]||"";i.A2X=this;i.FS=f;i.J=this.A4G.length;if(f==0){i.A=null;this.A4G.push(i);this.A4J.push(i)}if(a[d].children&&a[d].children.length>0){i.A4P=this.parse(a[d].children,f+1);for(c=0;c<i.A4P.length;c++){this.A4J.push(i.A4P[c]);i.FS=f;i.A4P[c].A=i}}j.push(i)}return j};this.A3O=function(a,f){for(var c=0;c<a.length;c++){a[c].A4O=a[c].FS==this.A4N?this.A2S?
this.AZ[c%this.AZ.length]:ZC.BP.LQ(this.AZ[c%this.AZ.length]):f;a[c].A4P.length>0&&this.A3O(a[c].A4P,a[c].A4O)}};this.paint=function(){if(this.A4G.length==1)this.A4N=1;this.A3O(this.A4G);for(var a=0;a<this.A4G.length;a++){this.A4G[a].A3A();this.A4I=Math.max(this.A4I,this.A4G[a].A4V);this.A4H=Math.min(this.A4H,this.A4G[a].A4V);this.A2W=Math.max(this.A2W,this.A4G[a].A4W);this.A2V=Math.min(this.A2V,this.A4G[a].A4W)}this.A3N();for(a=0;a<this.A4G.length;a++)this.A4G[a].sortChildren();this.A4K=0;this.A4M=
this.A4G;this.render(this.A4G,this.iX,this.iY,this.G,this.E,0,0)};this.render=function(a,f,c,j,d,i,g){i==0&&this.A3R(null,this.iX,this.iY,this.G,this.E,"#fff","#000",0,1);if(a.length>1){var b=0,l=[],e;e=typeof this.A3S[i]!=ZC._[33]?Math.min(this.A3S[i],a.length):Math.min(this.A4Y,a.length);for(b=0;b<e;b++)l.push(a[b]);a=l;l=[];e=[];var h=0,k=0;switch(this.A34){case "alternate":for(b=0;b<a.length;b++)if(b%2==0){l.push(a[b]);h+=a[b].A4V}else{e.push(a[b]);k+=a[b].A4V}break;default:var m=1;for(b=0;b<
a.length;b++){m=h<=k?1:2;if(m==1){l.push(a[b]);h+=a[b].A4V}else{e.push(a[b]);k+=a[b].A4V}}break;case "horizontal":case "vertical":for(b=0;b<a.length;b++)if(b<a.length/2){l.push(a[b]);h+=a[b].A4V}else{e.push(a[b]);k+=a[b].A4V}}a=h/(h+k);var n=m=k=h=b=0,o=0;switch(this.A34){case "alternate":if(g%2==0){b=Math.ceil(j*a);h=d;k=Math.abs(j-b);m=d;n=b;o=0}else{b=j;h=Math.ceil(d*a);k=j;m=Math.abs(d-h);n=0;o=h}break;default:b=Math.ceil(j*a);h=d;k=Math.abs(j-b);m=d;n=0;if(h+m>0)n=(b+k)/(h+m);n=n<1&&n>0?1/n:
n;b=j;h=Math.ceil(d*a);k=j;m=Math.abs(d-h);o=0;if(h+m>0)o=(b+k)/(h+m);o=o<1&&o>0?1/o:o;if(n<o){b=Math.ceil(j*a);h=d;k=Math.abs(j-b);m=d;n=b;o=0}else{b=j;h=Math.ceil(d*a);k=j;m=Math.abs(d-h);n=0;o=h}break;case "vertical":b=Math.ceil(j*a);h=d;k=Math.abs(j-b);m=d;n=b;o=0;break;case "horizontal":b=j;h=Math.ceil(d*a);k=j;m=Math.abs(d-h);n=0;o=h}this.render(l,f,c,b,h,i,g+1);this.render(e,f+n,c+o,k,m,i,g+1)}else if(a.length==1&&a[0].FS-this.A4K<this.A4L){if(a[0].A4P.length>0){if(a[0].AX.substring(0,3)==
"[+]"||a[0].AX.substring(0,3)=="[-]")a[0].AX=a[0].AX.substring(3);a[0].AX=g==0?"[-] "+a[0].AX:"[+] "+a[0].AX}l=1;switch(this.A33){case "random":e=this.A3M();break;case "red":e=75+ZC._i_(180*(a[0].A4W-this.A2V)/(this.A2W-this.A2V));e="#"+e.toString(16)+"0000";break;case "green":e=75+ZC._i_(180*(a[0].A4W-this.A2V)/(this.A2W-this.A2V));e="#00"+e.toString(16)+"00";break;case "blue":e=75+ZC._i_(180*(a[0].A4W-this.A2V)/(this.A2W-this.A2V));e="#0000"+e.toString(16);break;default:b=40*(a[0].A4W-this.A2V)/
(this.A2W-this.A2V);if(this.A2S){e={};ZC._cp_(a[0].A4O,e);if(e.gradientColors!=null){h=e.gradientColors.split(/\s/);k=0;for(m=h.length;k<m;k++)h[k]=ZC.BP.KV(ZC.BP.LQ(h[k]),b);e.gradientColors=h.join(" ")}else if(e.backgroundColor!=null){h=e.backgroundColor.split(/\s/);k=0;for(m=h.length;k<m;k++)h[k]=ZC.BP.KV(ZC.BP.LQ(h[k]),b);e.backgroundColor=h.join(" ")}}else e=ZC.BP.KV(ZC.BP.LQ(a[0].A4O),b);break;case "transition":e=ZC.BP.LQ(this.A36);b=ZC.BP.LQ(this.A39);e=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,
5),16),parseInt(e.substring(5,7),16)];b=[parseInt(b.substring(1,3),16),parseInt(b.substring(3,5),16),parseInt(b.substring(5,7),16)];h=(a[0].A4W-this.A2V)/(this.A2W-this.A2V);e=[e[0]+ZC._i_((b[0]-e[0])*h),e[1]+ZC._i_((b[1]-e[1])*h),e[2]+ZC._i_((b[2]-e[2])*h)];e="#"+this.A3Q(e[0].toString(16))+this.A3Q(e[1].toString(16))+this.A3Q(e[2].toString(16))}if(this.A32)l=this.A35+(1-this.A35)*(a[0].A4W-this.A2V)/(this.A2W-this.A2V);this.A3R(a[0],f,c,j,d,e,l);a[0].A4P.length>0&&this.render(a[0].A4P,f+4,c+this.A31.GV+
this.A31.I0+this.A31.DS*1.5,j-8,d-this.A31.GV-this.A31.I0-this.A31.DS*1.5-4,i+1,g)}};this.A3N=function(){this.A4G.sort(function(a,f){return a.AX=="./"||a.AX.indexOf("index.")>0?-1:f.AX=="./"||f.AX.indexOf("index.")>0?1:a.A4V>f.A4V?-1:a.A4V<f.A4V?1:0})};this.A3M=function(){for(var a=(Math.random()*16777215+1<<0).toString(16);a.length<6;)a="0"+a;return"#"+a};this.A3Q=function(a){if(a.length==1)a="0"+a;return a};this.A3T=function(a,f,c){return a.substring(0,Math.floor(f/(c*0.7)))};this.A3R=function(a,
f,c,j,d,i,g){if(a){j=Math.min(Math.max(j,0),this.G);d=Math.min(Math.max(d,0),this.E);var b=this.A31.AE;if(j>1&&d>1){if(this.A2S){l={};ZC._cp_(i,l)}else var l={backgroundColor:i};ZC._todash_(l);a.A4P.length==0?ZC._cp_(this.A30,l):ZC._cp_(this.A2U,l);var e=["value-aspect","value-size",ZC._[11],"text"],h={text:a.AX.replace("[-] ","").replace("[+] ",""),value:a.A4V,"value-size":a.A4V,"value-aspect":a.A4W},k;for(k in a.o)if(a.o.hasOwnProperty(k))h[k]=a.o[k];k=0;for(var m=e.length;k<m;k++)l.text=l.text.replace("%"+
e[k],h[e[k]]);e={};ZC._cp_(this.FK,e);a={x:Math.max(0,f-b),y:Math.max(0,c-b),id:a?a.P:"","static":false,width:j+b,height:d+b,text:d>this.A31.DS*1.5&&j>20?this.A3T(a.AX,j,this.A31.DS):"",borderColor:ZC.BP.KV(ZC.BP.LQ(i),40),alpha:g,tooltip:l,hoverState:e};if(this.A2S)ZC._cp_(i,a);else a.backgroundColor=i;ZC._todash_(a);ZC._cp_(this.BD,a);this.A3V.push(a)}}}};var q=zingchart.label_click;zingchart.label_click=function(a){q!=null&&q(a);var f=zingchart.getLoader(a.id);if(f){var c=zingchart.getGraph(f,
a.graphid);if(!(!c||c.o.type!="treemap"))if(!(a.ev.button>0)){zingchart.exec(a.id,"disable");window.setTimeout(function(){var j=0,d=p[f.P];if(d.A2T[a.labelid]!=null){d.A3V=[];if(d.A2T[a.labelid].A){d.A4M=[d.A2T[a.labelid].A];d.A4K=d.A2T[a.labelid].FS-1}else{d.A4M=d.A4G;d.A2T[a.labelid].FS=0}d.A2T[a.labelid]=null;j=1}else{for(var i=-1,g=null,b=0;b<d.A4J.length;b++)if(d.A4J[b].P==a.labelid){i=b;g=d.A4J[b];break}if(i!=-1){j=1;for(d.A2T[a.labelid]=g;g.A;){g=g.A;d.A2T[g.P]=g}d.A3V=[];d.A4M=[d.A4J[i]]}}if(j){d.render(d.A4M,
d.iX,d.iY,d.G,d.E,0,0);f.AY[d.HL].o[ZC._[12]]=d.A3V;f.AY[d.HL].HA();zingchart.exec(a.id,"enable")}},50)}}};var r=zingchart.dataparse;zingchart.dataparse=function(a,f){var c;if(r!=null)f=r(a,f);for(var j=zingchart.getLoader(a.id),d=0,i=f[ZC._[18]].length;d<i;d++)if(f[ZC._[18]][d].type&&f[ZC._[18]][d].type=="treemap"){var g=f[ZC._[18]][d].type,b=f[ZC._[18]][d],l={};if(b.options)l=b.options[g]||b.options;ZC._todash_(l);b[ZC._[13]]=b[ZC._[13]]||[];b[ZC._[13]][0]=b[ZC._[13]][0]||{};b[ZC._[12]]=b[ZC._[12]]||
[];c=zingchart.getGraphInfo(j,f,d);g=p[j.P]=new ZC.A4X;g.H=j;g.HL=d;g.iX=c.plotarea.x;g.iY=c.plotarea.y;g.G=c.plotarea.width;g.E=c.plotarea.height;if((c=l["max-depth"])!=null)g.A4L=ZC._i_(c);if((c=l["max-children"])!=null)if(c instanceof Array)g.A3S=c;else g.A4Y=ZC._i_(c);if((c=l["split-type"])!=null)g.A34=c;if((c=l["aspect-type"])!=null)g.A33=c;if((c=l["alpha-aspect"])!=null)g.A32=ZC._b_(c);if((c=l["min-alpha"])!=null)g.A35=ZC._f_(c);if((c=l.palette)!=null){g.AZ=c;if(c[0]instanceof Object&&g.A33==
"palette")g.A2S=1}if((c=l["color-start"])!=null)g.A36=c;if((c=l["color-end"])!=null)g.A39=c;if((c=l.box)!=null)ZC._cp_(c,g.BD);if((c=l["tooltip-box"])!=null)ZC._cp_(c,g.A30);if((c=l["tooltip-group"])!=null)ZC._cp_(c,g.A2U);if((c=l["hover-state"])!=null)ZC._cp_(c,g.FK);g.parse(b[ZC._[13]],0);g.paint();b[ZC._[12]]=b[ZC._[12]].concat(g.A3V)}return f}})();
