/*
All of the code within the ZingChart software is developed and copyrighted by PINT, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from PINT. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 0.120731
*/
ZC.QU.push("pie");
ZC.WQ=ZC.HZ.B6({$i:function(b){this.b(b);this.AC="pie";this.B0=new ZC.V5(this)},PI:function(){return""},II:function(b){switch(b){case "m":return new ZC.PY(this);case "v":return new ZC.QY(this);case "r":return new ZC.XS(this)}},A1Y:function(){var b=this.II("m","scale"),a=this.II("v",ZC._[54]),c=this.II("r","scale-r");b.BH="scale";b.P=this.P+"-scale";a.BH=ZC._[54];a.P=this.P+"-scale-v";c.BH="scale-r";c.P=this.P+"-scale-r";this.B9.push(b,a,c);this.b()},clear_:function(){ZC.AH(["svg","vml"],this.H.A5)!=
-1&&ZC.A3("#"+this.P+" .zc-layer").each(function(){/\-plot-\d+\-fl\-\d+\-/.test(this.id)&&ZC.A3(this).children().each(function(){/\-connector\-path/.test(this.id)&&ZC.L.FA(this)})})}});
ZC.V5=ZC.J7.B6({$i:function(b){this.b(b);this.L1=[];this.JS=[];this.NN=[]},A26:function(){return new ZC.OU(this)},parse:function(){this.NN=[];this.L1=[];this.JS=[];this.b();for(var b=this.A.B2("scale-r"),a=0,c=this.AA.length;a<c;a++)if(this.D.I["plot"+a+".visible"]||this.D.getToggleAction()=="hide")for(var d=0,i=this.AA[a].Q.length;d<i;d++){var g=this.AA[a].Q[d];if(this.JS[d]==null)this.JS[d]=this.AA[a].o["ref-angle"]!=null?this.AA[a].C7:b.C7;var f=this.JS[d],e=this.L1[d]==0?f+b.H5*(1/c):f+b.H5*g.A9/
this.L1[d];this.JS[d]=e;g.AL=f;g.AW=e}}});
ZC.OU=ZC.FD.B6({$i:function(b){this.b(b);this.AC="pie";this.B9=["scale",ZC._[54],"scale-r"];this.C7=this.QN=0;this.B1=null},OD:function(){return new ZC.Y8(this)},parse:function(){var b,a;if(this.o[ZC._[19]]==null)this.o[ZC._[19]]={};this.AZ=this.JB();this.BM=this.AZ[0];this.Y=this.AZ[1];this.A8=this.AZ[2];this.BQ=this.AZ[0];this.AT=this.AZ[0];this.loadXPalette();this.b();this.B1=new ZC.E5(this);this.D.A.AR.load(this.B1.o,["graph.plot.value-box.connector",this.AC+".plot.value-box.connector"]);if((b=
this.D.o.plot)!=null)if(b[ZC._[19]]!=null&&(a=b[ZC._[19]].connector)!=null)this.B1.append(a);this.B1.append(this.o[ZC._[19]].connector);this.Q4_a([["offset","DT","fp"],[ZC._[10],"QN","fp"],["ref-angle","C7","i"]]);b=0;for(a=this.Q.length;b<a;b++){this.Q[b].BV=this.QN;if(this.Q[b]!=null&&(this.D.I["plot"+this.J+".visible"]||this.D.getToggleAction()=="hide")){if(this.A.L1[b]==null)this.A.L1[b]=0;this.A.L1[b]+=ZC._f_(this.Q[b].A9)}}},paint:function(){this.b();this.H2=this.BE("bl",0);this.JP(true)}});
ZC.Y8=ZC.GN.B6({U:null,$i:function(b){this.b(b)},parse:function(){this.b()},KJ:function(b,a){var c=this.A.M6();ZC._cp_(a,c);var d=this.A9*100/this.A.A.L1[this.J],i=new String(d);if(c[ZC._[14]]!=null)i=d.toFixed(ZC.BR(0,ZC._i_(c[ZC._[14]])));this.DN=[["%node-percent-value",i],["%npv",i]];return b=this.b(b,a)},S5:function(b){var a=(this.AL+this.AW)/2%360,c=0;if((b=b["offset-r"])!=null)c=ZC._f_(ZC._p_(b));if(c<1)c*=this.AU;a=ZC.AV.BN(this.iX,this.iY,this.BV+0.6*(this.AU-this.BV)+this.DT+c,a);return[a[0],
a[1],{reference:this,center:true}]},A2P:function(){var b=ZC.AV.BN(this.iX,this.iY,this.BV+0.5*(this.AU-this.BV)+this.DT,(this.AL+this.AW)/2%360);return[b[0],b[1]]},setup:function(){var b=this.D.B2(this.A.BB("k")[0]),a=Math.floor(this.J/b.GP);this.iX=b.iX+this.J%b.GP*b.EB+b.EB/2+b.C9;this.iY=b.iY+a*b.EA+b.EA/2+b.CF;if(!this.FO){this.copy(this.A);this.DK=this.A.DK;this.C4()&&this.parse(false);this.FO=1}},PA:function(b){var a={},c="out";if((b=b.o[ZC._[9]])!=null)c=b;a.color=c=="out"?this.Y:this.BM;return a},
A1N:function(b){var a,c="out";if((a=b.o[ZC._[9]])!=null)c=a;a=(this.AL+this.AW)/2%360;var d;if(c!="in"){c=(this.AU*1.25+this.A.DT+b.DT)*ZC.D4(a);d=(this.AU*1.25+this.A.DT+b.DT)*ZC.CP(a);c=this.iX+c+b.C9-b.G/2;var i=d=this.iY+d+b.CF-b.E/2;this.U=b;if(a>=0&&a<=90||a>=270&&a<=360)c+=b.G/2+10;else c-=b.G/2+10;var g=null,f=-1,e=this.iX,h=this.iY;if(this.A.J>0&&this.A.A.AA[this.A.J-1].Q.length>this.J){g=this.A.A.AA[this.A.J-1].Q[this.J];if(g.U!=null&&g.U.AM&&g.A9!=null){var j=g.U.iY,o=g.U.E;f=(g.AL+g.AW)/
2%360;var n=0,l=c-e,k=d-h;l=Math.sqrt(l*l+k*k);if(a>=0&&a<=90||a>=270&&a<=360&&f>=0&&f<=90||f>=270&&f<=360){if(d<j+o){k=j+o+2;n=k-d;d=k}}else if(a>90&&a<270&&f>90&&f<270)if(j<d+b.E){k=j-b.E-2;n=d-k;d=k}if(n!=0&&a){var m=d-h;if(l>=m&&(a>90&&a<180||a>=270)){c=Math.asin(m/l);c=c=a>90&&a<270?e-l*Math.cos(c):e+l*Math.cos(c)}}}}m=1;n=0;l=c-e;k=d-h;l=Math.sqrt(l*l+k*k);for(k=0;m&&n<20;){m=0;n++;for(var q={x:c,y:d,width:b.G,height:b.E},r=0,s=this.A.A.NN.length;r<s;r++){q.x=c;q.y=d;var p=this.A.A.NN[r];if(ZC.AV._boxoverlap_(q,
p)){if(k==0)k=i<p.oy?-1:1;if(g!=null&&f!=-1)if((a>=0&&a<=90||a>=270&&a<=360)&&(f>=0&&f<=90||f>=270&&f<=360)){if(d<j+o)k=1}else if(a>90&&a<270&&f>90&&f<270)if(j<d+b.E)k=-1;d=k==-1?p.y-b.E-2:p.y+p.height+2;m=Math.abs(d-h);if(l>=m&&(a>90&&a<180||a>=270)){c=Math.asin(m/l);c=c=a>90&&a<270?e-l*Math.cos(c):e+l*Math.cos(c)}m=1}}}p={x:c,y:d,width:b.G,height:b.E,plotindex:this.A.J,nodeindex:this.J,oy:i};this.A.A.NN.push(p)}else{j=ZC.AV.BN(this.iX,this.iY,this.BV+0.5*(this.AU-this.BV)+this.DT+b.DT,a);c=j[0]-
b.D8/2+this.C9;d=j[1]-b.CG/2+this.CF}return[c,d,a]},G9:function(){var b=this,a,c=b.b();if(c.AM&&c.AX!=null&&c.AX!=""){var d="out";if((a=c.o[ZC._[9]])!=null)d=a;if(d=="out"){d=1;if((a=c.o.connected)!=null)d=ZC._b_(a);if(d){a=new ZC.CY(b.A);a.X=a.BT=b.H.usc()?b.H.mc("top"):b.D.AQ["3d"]||b.H.L7?ZC.AN(b.D.P+"-plots-vb-c"):ZC.AN(b.D.P+"-plot-"+b.A.J+"-vb-c");a.append(b.A.B1.o);b.PA(c);a.P=b.P+"-connector";a.AT=b.Y;a.E9="line";a.C=[];d=c.I.positioninfo;var i=(b.AL+b.AW)/2%360,g=d[2];ZC._a_(0.1*b.AU*ZC.CP(i));
i=ZC.AV.BN(b.iX,b.iY,b.AU+b.DT,i);i[0]+=b.C9;i[1]+=b.CF;a.C.push(i);g>=0&&g<=90||g>=270&&g<=360?a.C.push([d[0]-10,d[1]+c.E/2],[d[0],d[1]+c.E/2]):a.C.push([d[0]+10+c.G,d[1]+c.E/2],[d[0]+c.G,d[1]+c.E/2]);a.parse();a.GW=function(f){return b.GW(f)};a.C4()&&a.parse();a.AM&&a.paint()}}}},paint:function(){function b(){var o=d.DF(),n=a.D.P+ZC._[36]+a.D.P+ZC._[37]+a.A.J+ZC._[6];o=ZC.L.DJ("poly")+'class="'+n+'" id="'+a.P+ZC._[32]+o+'"/>';a.A.A.FZ.push(o);a.A.U!=null&&a.G9()}var a=this;a.b();if(!(a.A9<0)){var c=
a.D.B2(a.A.BB("k")[0]);a.setup();a.AU=ZC.CT(c.EA,c.EB)/2;if(a.A.o[ZC._[23]]!=null)a.AU=a.A.AU;a.AU=c.IP*a.AU;if(a.BV<1)a.BV*=a.AU;c=a.A.FG(a,a);var d=new ZC.CY(a.A);d.P=a.P;d.X=a.A.BE("bl",1);d.BT=a.A.BE("bl",0);d.copy(c);var i=a.iX,g=a.iY;if(a.DT>0){var f=ZC.AV.BN(a.iX,a.iY,a.DT,(a.AL+a.AW)/2);i=f[0];g=f[1]}d.iX=i;d.iY=g;d.AU=a.AU;d.E9="pie";d.AL=a.AL;d.AW=a.AW;d.BV=a.BV;d.I.plotidx=a.A.J;d.I.nodeidx=a.J;d.parse();a.E1=d;if(a.A.F9&&!a.D.FW){var e=d,h={};e.iX=i;e.iY=g;e.AL=a.AL;e.AW=a.AW;h.angleStart=
a.AL;h.angleEnd=a.AW;h.x=i;h.y=g;switch(a.A.H9){case 1:e.AB=0;h.alpha=c.AB;break;case 2:e.AB=0;e.AW=a.AL;h.alpha=c.AB;h.angleEnd=a.AW;break;case 3:e.AB=0;e.AW=a.AL;e.AU=2;h.alpha=c.AB;h.angleEnd=a.AW;h.size=a.AU;break;case 4:e.AB=0;f=ZC.AV.BN(a.iX,a.iY,a.AU*1.2,(a.AL+a.AW)/2);e.iX=f[0];e.iY=f[1];h.alpha=c.AB;h.x=i;h.y=g;break;case 5:e.AB=0;e.AL=e.AW=(a.AL+a.AW)/2;h.alpha=c.AB;h.angleStart=a.AL;h.angleEnd=a.AW}for(var j in a.A.DI){e[ZC.CA.FH[ZC.CH(j)]]=a.A.DI[j];h[ZC.CH(j)]=c[ZC.CA.FH[ZC.CH(j)]]}if(a.D.CZ==
null)a.D.CZ={};if(a.D.CZ[a.A.J+"-"+a.J]!=null)for(j in a.D.CZ[a.A.J+"-"+a.J])e[ZC.CA.FH[ZC.CH(j)]]=a.D.CZ[a.A.J+"-"+a.J][j];a.D.CZ[a.A.J+"-"+a.J]={};ZC._cp_(h,a.D.CZ[a.A.J+"-"+a.J]);j=new ZC.CA(e,h,a.A.FM,a.A.H6,ZC.CA.LO[a.A.H7],function(){b()});j.B4=a;a.HJ(j)}else{d.paint();b()}}},A2F:function(b){var a=this;ZC.move||a.HT({layer:b,type:"shape",initcb:function(){this.copy(a);this.iX=a.iX;this.iY=a.iY;if(a.DT>0){var c=ZC.AV.BN(a.iX,a.iY,a.DT,(a.AL+a.AW)/2);this.iX=c[0];this.iY=c[1]}this.AU=a.AU;this.E9=
"pie";this.Y=a.A.AZ[3];this.A8=a.A.AZ[2];this.AL=a.AL;this.AW=a.AW;this.BV=a.BV}})},NS:function(){}});
